<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- <title>Dashboard</title>
        <link rel="stylesheet" href="styles.css"> -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script  type="module" src="app.js"></script>
    </head>
    <body>
        <div class="clients"> <!--TODO: make these into tabs-->
            <h1>Users</h1>
            <div id="userform">
                <label for="start-date"></label>
                <input type="date" id="start-date" name="start-date"> <!--TODO add a default value for the most recent Sunday-->
                <label for="end-date"></label>
                <input type="date" id="end-date" name="end-date"><!-- TODO: make default value for today-->
                <button id="load-users">Load Users</button>
            </div>
            <div class="card">
                <div class="table-container">
                    <table id="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Email</th>
                                <th>Revenue</th> <!--TODO: add revenue from and make this the auto sort column-->
                                <th>Packages</th> <!--TODO: add packages-->
                            </tr>
                        </thead>
                        <tbody id="users-tbody">
                            <tr>
                                <td colspan="4" class="loading">
                                    <div class="spinner"></div>
                                    <p>Loading users...</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            <!-- User Detail View (Initially hidden) -->
        <div id="user-detail-view" >
            <button id="back-button" >
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                Back to Client List
            </button>
            
            <header class="pb-4 border-b">
                <h2 id="user-detail-title" >Revenue Breakdown: Client Name</h2>
                <p id="user-detail-subtitle" >User ID:</p>
            </header>
            
            <!-- Stats Grid -->
            <div id="stats-grid" >
                <!-- Stat Card Template -->
                <div >
                    <p >Total Revenue</p>
                    <p id="stat-total" >$0.00</p>
                </div>
                <div >
                    <p >Packages</p>
                    <p id="stat-packages">$0.00</p>
                </div>
                <div >
                    <p >Emails</p>
                    <p id="stat-emails" >$0.00</p>
                </div>
                <div >
                    <p >Chats</p>
                    <p id="stat-chats" >$0.00</p>
                </div>
                <div >
                    <p >Calls</p>
                    <p id="stat-calls" >$0.00</p>
                </div>
                <div>
                    <p >Invoices</p>
                    <p id="stat-invoices" >$0.00</p>
                </div>
            </div>

            <!-- Revenue Chart -->
            <div  >
                <h3 >Weekly Revenue Breakdown (Gross)</h3>
                <div class="chart-container">
                    <canvas id="revenue-chart"></canvas>
                </div>
            </div>

            <!-- Packages Card -->
            <div id="packages-card" >
                <h3 >Active Manual Packages</h3>
                <div id="packages-grid" c>
                    <!-- Package items will be dynamically inserted here -->
                </div>
            </div>
        </div>
        </div>
        <div class="commisions"> <!--TODO: Make this a Tab-->
            <h1>Commisions</h1>
            <!--TODO: Add Commisions Table-->
        </div>
    </body>
    <footer>
        
        <!--TODO add legal stuff-->
    </footer>
   
</html>

<!-- Alex's weekend notes:
    add trello notes into cl
    add csv of database into cl
    add this github to thcl
    add to laptop todotree and anchor
    buiildout the postman flow
    figure out how to add the postman flow to the repo
    potentially: create github action for contributions
    remember that the packages is stored in the 'manual_charges' table
    -->